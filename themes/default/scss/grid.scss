@import 'susy', 'compass/utilities/general/clearfix';

// A Fluid Grid based on 960gs
$total-columns  : 3;
$column-width   : 16em;
$gutter-width   : 4em;
$grid-padding   : 2em;

$break: 3;

.container { 
	@include container($total-columns, $break);
}


@for $i from 1 through $total-columns {
	.grid_#{$i} {
		@include span-columns($i);
	}
	
	.spacer_#{$i} {
		margin-left: ($i * $column-width + ($gutter-width * $i));
	}
}

.row {
	@include clearfix;
	
	@for $i from 1 through $total-columns {
		.grid_#{$i}{
			&:last-child { 
				margin-right: 0;
			}
			
			&.notlast {
				float: left !important;
			}
		}
	}
}

@include at-breakpoint(0 3 320px) {
	$gutter-width   : 1em;
	$grid-padding   : 1em;
	
	.container { 
		@include container;
	}

	@for $i from 1 through $total-columns {
		.grid_#{$i}{
			@include span-columns(3,$break);
			margin: 0;
		}
	}
}