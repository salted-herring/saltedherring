define(["./core","./var/indexOf","./traversing/var/dir","./traversing/var/siblings","./traversing/var/rneedsContext","./core/init","./traversing/findFilter","./selector"],function(e,t,n,r,i){function u(e,t){while((e=e[t])&&e.nodeType!==1);return e}var s=/^(?:parents|prev(?:Until|All))/,o={children:!0,contents:!0,next:!0,prev:!0};return e.fn.extend({has:function(t){var n=e(t,this),r=n.length;return this.filter(function(){var t=0;for(;t<r;t++)if(e.contains(this,n[t]))return!0})},closest:function(t,n){var r,s=0,o=this.length,u=[],a=i.test(t)||typeof t!="string"?e(t,n||this.context):0;for(;s<o;s++)for(r=this[s];r&&r!==n;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:r.nodeType===1&&e.find.matchesSelector(r,t))){u.push(r);break}return this.pushStack(u.length>1?e.uniqueSort(u):u)},index:function(n){return n?typeof n=="string"?t.call(e(n),this[0]):t.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,n){return this.pushStack(e.uniqueSort(e.merge(this.get(),e(t,n))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),e.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return n(e,"parentNode")},parentsUntil:function(e,t,r){return n(e,"parentNode",r)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return n(e,"nextSibling")},prevAll:function(e){return n(e,"previousSibling")},nextUntil:function(e,t,r){return n(e,"nextSibling",r)},prevUntil:function(e,t,r){return n(e,"previousSibling",r)},siblings:function(e){return r((e.parentNode||{}).firstChild,e)},children:function(e){return r(e.firstChild)},contents:function(t){return t.contentDocument||e.merge([],t.childNodes)}},function(t,n){e.fn[t]=function(r,i){var u=e.map(this,n,r);return t.slice(-5)!=="Until"&&(i=r),i&&typeof i=="string"&&(u=e.filter(i,u)),this.length>1&&(o[t]||e.uniqueSort(u),s.test(t)&&u.reverse()),this.pushStack(u)}}),e});