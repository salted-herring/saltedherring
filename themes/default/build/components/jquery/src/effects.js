define(["./core","./var/document","./var/rcssNum","./css/var/cssExpand","./var/rnotwhite","./css/var/isHidden","./css/adjustCSS","./css/defaultDisplay","./data/var/dataPriv","./core/init","./effects/Tween","./queue","./css","./deferred","./traversing"],function(e,t,n,r,i,s,o,u,a){function f(){return window.setTimeout(function(){v=undefined}),v=e.now()}function l(e,t){var n,i=0,s={height:e};t=t?1:0;for(;i<4;i+=2-t)n=r[i],s["margin"+n]=s["padding"+n]=e;return t&&(s.opacity=s.width=e),s}function c(e,t,n){var r,i=(d.tweeners[t]||[]).concat(d.tweeners["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function h(t,n,r){var i,o,f,l,h,p,d,v,m=this,y={},b=t.style,w=t.nodeType&&s(t),E=a.get(t,"fxshow");r.queue||(h=e._queueHooks(t,"fx"),h.unqueued==null&&(h.unqueued=0,p=h.empty.fire,h.empty.fire=function(){h.unqueued||p()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,e.queue(t,"fx").length||h.empty.fire()})})),t.nodeType===1&&("height"in n||"width"in n)&&(r.overflow=[b.overflow,b.overflowX,b.overflowY],d=e.css(t,"display"),v=d==="none"?a.get(t,"olddisplay")||u(t.nodeName):d,v==="inline"&&e.css(t,"float")==="none"&&(b.display="inline-block")),r.overflow&&(b.overflow="hidden",m.always(function(){b.overflow=r.overflow[0],b.overflowX=r.overflow[1],b.overflowY=r.overflow[2]}));for(i in n){o=n[i];if(g.exec(o)){delete n[i],f=f||o==="toggle";if(o===(w?"hide":"show")){if(o!=="show"||!E||E[i]===undefined)continue;w=!0}y[i]=E&&E[i]||e.style(t,i)}else d=undefined}if(!e.isEmptyObject(y)){E?"hidden"in E&&(w=E.hidden):E=a.access(t,"fxshow",{}),f&&(E.hidden=!w),w?e(t).show():m.done(function(){e(t).hide()}),m.done(function(){var n;a.remove(t,"fxshow");for(n in y)e.style(t,n,y[n])});for(i in y)l=c(w?E[i]:0,i,m),i in E||(E[i]=l.start,w&&(l.end=l.start,l.start=i==="width"||i==="height"?1:0))}else(d==="none"?u(t.nodeName):d)==="inline"&&(b.display=d)}function p(t,n){var r,i,s,o,u;for(r in t){i=e.camelCase(r),s=n[i],o=t[r],e.isArray(o)&&(s=o[1],o=t[r]=o[0]),r!==i&&(t[i]=o,delete t[r]),u=e.cssHooks[i];if(u&&"expand"in u){o=u.expand(o),delete t[i];for(r in o)r in t||(t[r]=o[r],n[r]=s)}else n[i]=s}}function d(t,n,r){var i,s,o=0,u=d.prefilters.length,a=e.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;var e=v||f(),n=Math.max(0,h.startTime+h.duration-e),r=n/h.duration||0,i=1-r,o=0,u=h.tweens.length;for(;o<u;o++)h.tweens[o].run(i);return a.notifyWith(t,[h,i,n]),i<1&&u?n:(a.resolveWith(t,[h]),!1)},h=a.promise({elem:t,props:e.extend({},n),opts:e.extend(!0,{specialEasing:{},easing:e.easing._default},r),originalProperties:n,originalOptions:r,startTime:v||f(),duration:r.duration,tweens:[],createTween:function(n,r){var i=e.Tween(t,h.opts,n,r,h.opts.specialEasing[n]||h.opts.easing);return h.tweens.push(i),i},stop:function(e){var n=0,r=e?h.tweens.length:0;if(s)return this;s=!0;for(;n<r;n++)h.tweens[n].run(1);return e?(a.notifyWith(t,[h,1,0]),a.resolveWith(t,[h,e])):a.rejectWith(t,[h,e]),this}}),m=h.props;p(m,h.opts.specialEasing);for(;o<u;o++){i=d.prefilters[o].call(h,t,m,h.opts);if(i)return e.isFunction(i.stop)&&(e._queueHooks(h.elem,h.opts.queue).stop=e.proxy(i.stop,i)),i}return e.map(m,c,h),e.isFunction(h.opts.start)&&h.opts.start.call(t,h),e.fx.timer(e.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}var v,m,g=/^(?:toggle|show|hide)$/,y=/queueHooks$/;return e.Animation=e.extend(d,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return o(r.elem,e,n.exec(t),r),r}]},tweener:function(t,n){e.isFunction(t)?(n=t,t=["*"]):t=t.match(i);var r,s=0,o=t.length;for(;s<o;s++)r=t[s],d.tweeners[r]=d.tweeners[r]||[],d.tweeners[r].unshift(n)},prefilters:[h],prefilter:function(e,t){t?d.prefilters.unshift(e):d.prefilters.push(e)}}),e.speed=function(t,n,r){var i=t&&typeof t=="object"?e.extend({},t):{complete:r||!r&&n||e.isFunction(t)&&t,duration:t,easing:r&&n||n&&!e.isFunction(n)&&n};i.duration=e.fx.off?0:typeof i.duration=="number"?i.duration:i.duration in e.fx.speeds?e.fx.speeds[i.duration]:e.fx.speeds._default;if(i.queue==null||i.queue===!0)i.queue="fx";return i.old=i.complete,i.complete=function(){e.isFunction(i.old)&&i.old.call(this),i.queue&&e.dequeue(this,i.queue)},i},e.fn.extend({fadeTo:function(e,t,n,r){return this.filter(s).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,n,r,i){var s=e.isEmptyObject(t),o=e.speed(n,r,i),u=function(){var n=d(this,e.extend({},t),o);(s||a.get(this,"finish"))&&n.stop(!0)};return u.finish=u,s||o.queue===!1?this.each(u):this.queue(o.queue,u)},stop:function(t,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof t!="string"&&(r=n,n=t,t=undefined),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var n=!0,s=t!=null&&t+"queueHooks",o=e.timers,u=a.get(this);if(s)u[s]&&u[s].stop&&i(u[s]);else for(s in u)u[s]&&u[s].stop&&y.test(s)&&i(u[s]);for(s=o.length;s--;)o[s].elem===this&&(t==null||o[s].queue===t)&&(o[s].anim.stop(r),n=!1,o.splice(s,1));(n||!r)&&e.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var n,r=a.get(this),i=r[t+"queue"],s=r[t+"queueHooks"],o=e.timers,u=i?i.length:0;r.finish=!0,e.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0);for(n=o.length;n--;)o[n].elem===this&&o[n].queue===t&&(o[n].anim.stop(!0),o.splice(n,1));for(n=0;n<u;n++)i[n]&&i[n].finish&&i[n].finish.call(this);delete r.finish})}}),e.each(["toggle","show","hide"],function(t,n){var r=e.fn[n];e.fn[n]=function(e,t,i){return e==null||typeof e=="boolean"?r.apply(this,arguments):this.animate(l(n,!0),e,t,i)}}),e.each({slideDown:l("show"),slideUp:l("hide"),slideToggle:l("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){e.fn[t]=function(e,t,r){return this.animate(n,e,t,r)}}),e.timers=[],e.fx.tick=function(){var t,n=0,r=e.timers;v=e.now();for(;n<r.length;n++)t=r[n],!t()&&r[n]===t&&r.splice(n--,1);r.length||e.fx.stop(),v=undefined},e.fx.timer=function(t){e.timers.push(t),t()?e.fx.start():e.timers.pop()},e.fx.interval=13,e.fx.start=function(){m||(m=window.setInterval(e.fx.tick,e.fx.interval))},e.fx.stop=function(){window.clearInterval(m),m=null},e.fx.speeds={slow:600,fast:200,_default:400},e});