define(["../core","../var/document","../ajax"],function(e,t){e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),e.ajaxTransport("script",function(n){if(n.crossDomain){var r,i;return{send:function(o,u){r=e("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&u(e.type==="error"?404:200,e.type)}),t.head.appendChild(r[0])},abort:function(){i&&i()}}}})});