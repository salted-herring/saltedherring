define(["./core","./var/document","./var/documentElement","./var/hasOwn","./var/indexOf"],function(e,t,n,r,i){function f(n,r){if(n===r)return s=!0,0;var u=!n.compareDocumentPosition-!r.compareDocumentPosition;return u?u:(u=(n.ownerDocument||n)===(r.ownerDocument||r)?n.compareDocumentPosition(r):1,u&1?n===t||n.ownerDocument===t&&e.contains(t,n)?-1:r===t||r.ownerDocument===t&&e.contains(t,r)?1:o?i.call(o,n)-i.call(o,r):0:u&4?-1:1)}function l(e){var t,n=[],r=0,i=0;s=!1,o=!u&&e.slice(0),e.sort(f);if(s){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return o=null,e}var s,o,u=e.expando.split("").sort(f).join("")===e.expando,a=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector;e.extend({find:function(n,r,i,s){var o,u,a=0;i=i||[],r=r||t;if(!n||typeof n!="string")return i;if((u=r.nodeType)!==1&&u!==9)return[];if(s)while(o=s[a++])e.find.matchesSelector(o,n)&&i.push(o);else e.merge(i,r.querySelectorAll(n));return i},uniqueSort:l,unique:l,text:function(t){var n,r="",i=0,s=t.nodeType;if(!s)while(n=t[i++])r+=e.text(n);else{if(s===1||s===9||s===11)return t.textContent;if(s===3||s===4)return t.nodeValue}return r},contains:function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!n.contains(r)},isXMLDoc:function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},expr:{attrHandle:{},match:{bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),e.extend(e.find,{matches:function(t,n){return e.find(t,null,null,n)},matchesSelector:function(e,t){return a.call(e,t)},attr:function(t,n){var i=e.expr.attrHandle[n.toLowerCase()],s=i&&r.call(e.expr.attrHandle,n.toLowerCase())?i(t,n,e.isXMLDoc(t)):undefined;return s!==undefined?s:t.getAttribute(n)}})});