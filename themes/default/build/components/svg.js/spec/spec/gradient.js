describe("Gradient",function(){var e=draw.rect(100,100),t=draw.gradient("linear",function(e){e.at({offset:0,color:"#333",opacity:1}),e.at({offset:1,color:"#fff",opacity:1})});it("is an instance of SVG.Gradient",function(){expect(t instanceof SVG.Gradient).toBe(!0)}),describe("fill()",function(){it("returns the id of the gradient wrapped in url()",function(){expect(t.fill()).toBe("url(#"+t.attr("id")+")")})}),describe("toString()",function(){it("returns the id of the gradient wrapped in url()",function(){expect(t+"").toBe("url(#"+t.attr("id")+")")}),it("is called when instance is passed as an attribute value",function(){e.attr("fill",t),expect(e.attr("fill")).toBe("url(#"+t.attr("id")+")")})}),describe("input values",function(){var e,n;it("accepts floats",function(){t=draw.gradient("linear",function(t){e=t.at({offset:.12,color:"#333",opacity:1}),n=t.at({offset:.93,color:"#fff",opacity:1})}),expect(e.attr("offset")).toBe(.12),expect(n.attr("offset")).toBe(.93)}),it("accepts string floats",function(){t=draw.gradient("linear",function(t){e=t.at({offset:"0.13",color:"#333",opacity:1}),n=t.at({offset:"0.92",color:"#fff",opacity:1})}),expect(e.attr("offset")).toBe(.13),expect(n.attr("offset")).toBe(.92)}),it("accept percentages",function(){t=draw.gradient("linear",function(t){e=t.at({offset:"14%",color:"#333",opacity:1}),n=t.at({offset:"91%",color:"#fff",opacity:1})}),expect(e.attr("offset")).toBe("14%"),expect(n.attr("offset")).toBe("91%")})}),describe("update()",function(){it("removes all existing children first",function(){t=draw.gradient("linear",function(e){s1=e.at({offset:.12,color:"#333",opacity:1}),s2=e.at({offset:.93,color:"#fff",opacity:1})}),expect(t.children().length).toBe(2),t.update(function(e){s1=e.at({offset:.33,color:"#666",opacity:1}),s2=e.at({offset:1,color:"#000",opacity:1})}),expect(t.children().length).toBe(2)})}),describe("get()",function(){it("returns the stop at a given index",function(){t=draw.gradient("linear",function(e){s1=e.at({offset:.12,color:"#333",opacity:1}),s2=e.at({offset:.93,color:"#fff",opacity:1})}),expect(t.get(0)).toBe(s1),expect(t.get(1)).toBe(s2),expect(t.get(2)).toBe(undefined)})})});