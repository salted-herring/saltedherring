describe("Set",function(){var e,t,n,r,i,s;beforeEach(function(){e=draw.set(),t=draw.rect(100,100).attr("id","e1"),n=draw.ellipse(100,100).attr("id","e2"),r=draw.line(0,0,100,100).attr("id","e3"),i=draw.circle(50).attr("id","e4"),s=draw.polyline("0,0 10,20 30,50 80,100").attr("id","e5")}),afterEach(function(){draw.clear()}),it("creates the set method on SVG.Container instances",function(){expect(draw.set()instanceof SVG.Set).toBe(!0)}),describe("add()",function(){it("returns the set instance",function(){expect(e.add(t)).toBe(e)}),it("stores given element",function(){e.add(t).add(n).add(r),expect(e.valueOf()).toEqual([t,n,r]),expect(e.members.length).toBe(3)}),it("accepts multiple elements at once",function(){e.add(t,n,r,i,s),expect(e.valueOf()).toEqual([t,n,r,i,s]),expect(e.members.length).toBe(5)})}),describe("remove()",function(){it("returns the set instance",function(){e.add(t),expect(e.remove(t)).toBe(e)}),it("removes given element",function(){e.add(t).add(n).add(r).remove(n),expect(e.valueOf()).toEqual([t,r]),expect(e.members.length).toBe(2)})}),describe("each()",function(){it("returns the set instance",function(){expect(e.each(function(){})).toBe(e)}),it("iterates over all members of the set",function(){var i=[];e.add(t).add(n).add(r),e.each(function(){i.push(this.attr("id"))}),expect(i.length).toBe(3),expect(i).toEqual(["e1","e2","e3"])})}),describe("clear()",function(){it("returns the set instance",function(){expect(e.clear()).toBe(e)}),it("removes all members from set",function(){e.add(t).add(n).add(r).add(i).add(s).clear(),expect(e.members.length).toBe(0)})}),describe("valueOf()",function(){it("returns the members array",function(){e.add(t),expect(e.valueOf()).toBe(e.members)})}),describe("method alias",function(){describe("attr()",function(){it("is applied to every member of the set",function(){var o=[];e.add(t).add(n).add(r).add(i).add(s).attr("fill","#ff0099"),e.each(function(){o.push(this.attr("fill"))}),expect(o).toEqual(["#ff0099","#ff0099","#ff0099","#ff0099","#ff0099"])})})}),describe("method inheritance",function(){beforeEach(function(){SVG.extend(SVG.Element,{orange:function(){this.fill("#ff6600")}})}),it("inherits newly added element methods after initialisation",function(){expect(typeof e.orange).toBe("function")}),it("applies newly inherited methods properly to members",function(){var o=[];e.add(t).add(n).add(r).add(i).add(s).orange(),e.each(function(){o.push(this.attr("fill"))}),expect(o).toEqual(["#ff6600","#ff6600","#ff6600","#ff6600","#ff6600"])})})});