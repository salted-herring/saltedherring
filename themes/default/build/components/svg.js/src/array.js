SVG.Array=function(e,t){e=(e||[]).valueOf(),e.length==0&&t&&(e=t.valueOf()),this.value=this.parse(e)},SVG.extend(SVG.Array,{morph:function(e){this.destination=this.parse(e);if(this.value.length!=this.destination.length){var t=this.value[this.value.length-1],n=this.destination[this.destination.length-1];while(this.value.length>this.destination.length)this.destination.push(n);while(this.value.length<this.destination.length)this.value.push(t)}return this},settle:function(){var e,t=[];for(e=this.value.length-1;e>=0;e--)t.indexOf(this.value[e])==-1&&t.push(this.value[e]);return this.value=t},at:function(e){if(!this.destination)return this;for(var t=0,n=this.value.length,r=[];t<n;t++)r.push(this.value[t]+(this.destination[t]-this.value[t])*e);return new SVG.Array(r)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)},split:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"").split(" ")}}),SVG.PointArray=function(){this.constructor.apply(this,arguments)},SVG.PointArray.prototype=new SVG.Array,SVG.extend(SVG.PointArray,{toString:function(){for(var e=0,t=this.value.length,n=[];e<t;e++)n.push(this.value[e].join(","));return n.join(" ")},at:function(e){if(!this.destination)return this;for(var t=0,n=this.value.length,r=[];t<n;t++)r.push([this.value[t][0]+(this.destination[t][0]-this.value[t][0])*e,this.value[t][1]+(this.destination[t][1]-this.value[t][1])*e]);return new SVG.PointArray(r)},parse:function(e){e=e.valueOf();if(Array.isArray(e))return e;e=this.split(e);for(var t=0,n=e.length,r,i=[];t<n;t++)r=e[t].split(","),i.push([parseFloat(r[0]),parseFloat(r[1])]);return i},move:function(e,t){var n=this.bbox();e-=n.x,t-=n.y;for(var r=this.value.length-1;r>=0;r--)this.value[r]=[this.value[r][0]+e,this.value[r][1]+t];return this},size:function(e,t){var n,r=this.bbox();for(n=this.value.length-1;n>=0;n--)this.value[n][0]=(this.value[n][0]-r.x)*e/r.width+r.x,this.value[n][1]=(this.value[n][1]-r.y)*t/r.height+r.x;return this},bbox:function(){if(this.value.length==0)return{x:0,y:0,width:0,height:0};var e,t=this.value[0][0],n=this.value[0][1],r={x:t,y:n};for(e=this.value.length-1;e>=0;e--)this.value[e][0]<r.x&&(r.x=this.value[e][0]),this.value[e][1]<r.y&&(r.y=this.value[e][1]),this.value[e][0]>t&&(t=this.value[e][0]),this.value[e][1]>n&&(n=this.value[e][1]);return r.width=t-r.x,r.height=n-r.y,r}});