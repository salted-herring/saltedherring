!function(e){var t=e(window);e.fn.visible=function(e,n,r){if(!(this.length<1)){var s=this.length>1?this.eq(0):this,o=s.get(0),u=t.width(),a=t.height(),r=r?r:"both",f=n===!0?o.offsetWidth*o.offsetHeight:!0;if("function"==typeof o.getBoundingClientRect){var l=o.getBoundingClientRect(),c=l.top>=0&&l.top<a,h=l.bottom>0&&l.bottom<=a,p=l.left>=0&&l.left<u,d=l.right>0&&l.right<=u,v=e?c||h:c&&h,m=e?p||d:p&&d;if("both"===r)return f&&v&&m;if("vertical"===r)return f&&v;if("horizontal"===r)return f&&m}else{var g=t.scrollTop(),y=g+a,b=t.scrollLeft(),w=b+u,E=s.offset(),S=E.top,x=S+s.height(),T=E.left,N=T+s.width(),C=e===!0?x:S,k=e===!0?S:x,L=e===!0?N:T,A=e===!0?T:N;if("both"===r)return!!f&&y>=k&&C>=g&&w>=A&&L>=b;if("vertical"===r)return!!f&&y>=k&&C>=g;if("horizontal"===r)return!!f&&w>=A&&L>=b}}}}(jQuery);